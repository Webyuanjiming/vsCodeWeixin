{"swagger":"2.0","info":{"description":"","version":"1.0","title":"短信微服务API文档"},"host":"m.jujinziben.com","basePath":"/sms","tags":[{"name":"短信","description":"","sortWeight":9}],"schemes":[],"consumes":[],"produces":[],"paths":{"/encrypt":{"post":{"tags":["短信"],"summary":"手机号加密","description":"","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"phone","in":"formData","description":"多个手机号之间用英文状态下的,隔开","required":true,"type":"string","default":"","format":""}],"responses":{"default":{"description":"加密后的字符串","sortWeight":0}},"sortWeight":4}},"/load":{"get":{"tags":["短信"],"summary":"加载参数","description":"当修改DB后,可调用该方法重载参数,不用重启服务器","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"default":{"description":"加载成功的参数内容","sortWeight":0}},"sortWeight":1}},"/send":{"post":{"tags":["短信"],"summary":"短信发送(web)","description":"该接口为简洁版接口,只需提供手机号和短信内容,支持群发,支持占位符(@{userId} @{date} @{time})","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"phone","in":"formData","description":"该参数需经过加密","required":true,"type":"string","default":"","format":""},{"name":"content","in":"formData","description":"","required":true,"type":"string","default":"","format":""}],"responses":{"default":{"description":"短信发送结果","schema":{"description":"短信发送结果","$ref":"#/definitions/SmsResult"},"sortWeight":0}},"sortWeight":5}},"/send4bean":{"post":{"tags":["短信"],"summary":"短信发送(旧)","description":"此接口为旧版短信接口,不做维护","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"SendSmsBean","description":"","required":true,"schema":{"$ref":"#/definitions/SendSmsBean"}}],"responses":{" default":{"description":"短信发送结果","schema":{"description":"短信发送结果","$ref":"#/definitions/SmsResult"},"sortWeight":0}},"sortWeight":2}},"/sendXRM":{"post":{"tags":["短信"],"summary":"短息发送(新)","description":"增加短信模板可使用该接口,具体流程:\n<br>1.拟定短信发送实体:包括短信文本内容和占位符数量\n<br>2.将短信模板加入到mysql数据库,并调用load接口重载短信配置和模板\n<br>3.在需要发送短信的模块生成sendBean\n<br>4.调用SendSmsXrmMessage.makeSmsMessage(SendBean)方法发送\n<br>(其实增加短信模板不需要调用或修改本接口)","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"SendBean","description":"","required":true,"schema":{"$ref":"#/definitions/SendBean"}}],"responses":{"default":{"description":"短信发送结果","schema":{"description":"短信发送结果","$ref":"#/definitions/SmsResult"},"sortWeight":0}},"sortWeight":3}}},"definitions":{"SmsResult":{"type":"object","properties":{"returnUrl":{"type":"string","description":"无用,可忽略"},"status":{"type":"boolean","description":"接口调用状态;True:成功,False失败"},"smsBean":{"description":"发送的短信bean","$ref":"#/definitions/SendSmsBean"},"msg":{"type":"string","description":"描述"}},"description":"短信发送结果"},"SendSmsBean":{"type":"object","properties":{"time":{"type":"string","description":"日期 年月日时分"},"borrowTitle":{"type":"string","description":"短信内容用：借款标标题"},"verifyCode":{"type":"string","description":"验证码"},"param1":{"type":"string","description":"参数1"},"phoneNumber":{"type":"string","description":"手机号码"},"param2":{"type":"string","description":"参数2"},"contents":{"type":"string","description":"短信内容"},"userId":{"type":"string","description":"短信内容用：用户名"},"smsType":{"type":"object","format":"","description":"发送类型","title":"smsType","properties":{}},"money":{"type":"string","description":"短信内容用：金额"},"sendType":{"type":"object","format":"","description":"发送方式 1：手机短信 2：手机语音","title":"sendType","properties":{}}},"description":"短信发送bean(老)"},"SendBean":{"type":"object","properties":{"template":{"type":"string","description":"短信模板名称"},"phoneNumber":{"type":"string","description":"手机号"},"sendType":{"type":"string","description":"发送方式 1：手机短信 2：手机语音"},"params":{"type":"array","format":"","description":"短信内容参数","items":{"type":"object"}}},"description":"短息发送bean(新)"}}}